# FAQ

**1．如何开通KMR服务？**

签约客户请把您的资源需求（节点配置，节点数量）和账号信息反馈给商务，我们会为您开通相应的资源配额，您可以在配额范围内创建集群或者变更集群配置。

**2．如何使用KMR服务？**

您可以通过控制台或者openAPI来创建\/删除\/修改KMR集群，并为集群提交计算作业。如果集群绑定了EIP，您也可以通过SSH连入集群主节点进行集群配置和作业提交,SSH使用详情请参考[SSH密钥管理](mi_yao_guan_li_zhi_nan.md)

**3．KMR服务如何收费？**

KMR计费方式根据不同集群类型有所区别:

常驻集群可选择按需计费和包年包月两种计费方式

临时集群仅可选择按需计费方式

按需计费和包年包月两种方式的具体计费信息详情请参考[产品定价与选购](chan_pin_ding_jia_yu_xuan_gou.md)

**4. 使用KMR和通过云主机自建Hadoop集群有什么区别**

* KMR提供了openAPI，用户可以通过代码来实现集群资源的自动化控制

* 针对不同的数据处理场景，KMR提供了临时集群和常驻集群两种集群，用户可按需使用不同类型集群，并且可通过KMR提供的管理工具对集群进行监控调优

* KMR有按需计费和包年包月两种计费模式，可满足不同用户需求，并且可根据需求随时扩容\/缩容\/释放集群，大幅减少数据处理成本

* 底层进行了多项优化和调整，配备了专家团队协助用户进行调优和排错

* 与对象存储服务KS3充分整合，可把KS3作为数据源，直接拉取数据进行分析，并把结果写回到KS3，集群释放后只需少量费用就可以长期保存数据


**5. 免费试用集群和正式集群的联系和区别**

用户在正式购买集群前，可以通过商务申请免费试用，提交试用申请单，由运营为用户设定试用期和配额，一般试用期为7天，用户在试用期内可创建试用集群，计费类型选择免费试用即可,试用集群不计费。试用到期前有到期提醒，可以将试用集群转正，逾期没有转正或续费的集群将被删除

试用集群与正式集群在节点配置和数量上无区别

**6. 临时集群和常驻集群的区别**

**临时集群**：主要用于Mapreduce等批量计算型作业，它灵活、创建速度快，可以根据需求随时启停和自动释放，基于KS3的数据存储和日志归集功能更可以使您在集群释放后仍然可以访问计算结果和集群日志。同时，针对临时集群的特性，有一些功能是临时集群特有的，包括集群模板和执行计划。集群模板记录了一个临时集群所需的配置信息和作业信息，可以将已创建的临时集群保存为模板方便重复使用；执行计划利用集群模板一次性或周期性的执行作业。

**常驻集群**：主要用于海量数据存储，在线查询和流式计算或者更为复杂的场景，它具有多个层面的高可用设计可以保证集群不间断的对外提供服务，常驻集群提供了细粒度的通用集群管理工具ambari，可以帮助您更加高效的进行集群监控和调优等工作。

临时集群和常驻集群针对不同的数据处理场景，用户可根据自身业务需求灵活选择集群类型。


 **7. 如何在同一VPC下使KMR集群和其他云主机互通？** 

KMR采用云主机（KEC）构建集群，二者服务都依托于VPC，创建于用户指定的VPC网络和VPC子网中，VPC具有安全组功能，将VPC中的产品划分不同的安全域，为每个安全域定义不同的访问控制规则。KMR集群默认安全组为“KSCKMR”，集群内部各节点在该安全组内可相互访问。每个云主机在创建时也会绑定唯一的安全组，默认为“default”，在同一VPC下，处于相同或不同子网的KMR集群和云主机可通过配置安全组规则进行互通。
 ![](http://kmr-bj.ks3-cn-beijing.ksyun.com/doc_pic/KMR2.0/faq-VPCconnect.png)

 * 通过KMR集群访问非KMR集群云主机

 需要配置要访问的云主机对应VPC安全组的入站规则，允许KMR集群访问该云主机。 首先，从控制台进入“云服务器”，获取该云主机的VPC和安全组 ![](http://kmr-bj.ks3-cn-beijing.ksyun.com/doc_pic/KMR2.0/FAQ-kec.png) 从控制台进入“虚拟私有网络”，进入刚刚获取的VPC ![](http://kmr-bj.ks3-cn-beijing.ksyun.com/doc_pic/KMR2.0/FAQ-Vpc.png) 选中该云主机对应的安全组，创建安全组规则 ![](http://kmr-bj.ks3-cn-beijing.ksyun.com/doc_pic/KMR2.0/FAQ-securityGroup.png) 用户可根据需求创建不同方式的安全组规则，填写正确的KMR集群所在的网段即可。 ![](http://kmr-bj.ks3-cn-beijing.ksyun.com/doc_pic/KMR2.0/FAQ-groupRule.png) * 通过非KMR集群云主机访问KMR集群 需要配置KMR集群对应VPC安全组的入站规则，允许其他云主机访问KMR集群。 首先查看KMR集群的VPC网络，然后从控制台进入“虚拟私有网络”，进入该VPC，KMR集群默认的安全组为“KSCKMR”，进入该安全组并配置安全组入站规则，填写正确的非KMR集群云主机的网段即可配置互通。 ``` 注意： 以上配置KMR集群和其他云主机互通的前提是在同一VPC下，不同的VPC下主机互通需要先对VPC进行配置使VPC互通，再配置安全组规则。 VPC安全组规则默认出站规则全部放行，因此，可不配置出站规则，如有特殊需求，可自行更改。 ``` 
